resolver: nightly-2022-06-10 # GHC 9.2.3

packages:
- .

extra-deps:
- hpack-0.35.0@rev:0
- pantry-0.5.6@rev:0 # https://github.com/commercialhaskell/pantry/pull/53
- rio-0.1.21.0@rev:0

docker:
  enable: false
  repo: psibi/alpine-haskell-stack:9.2.3v1

nix:
  # --nix on the command-line to enable.
  packages:
  - zlib
  - unzip

flags:
  stack:
    developer-mode: true

ghc-options:
  "$locals": -fhide-source-paths

drop-packages:
# See https://github.com/commercialhaskell/stack/pull/4712
- cabal-install
